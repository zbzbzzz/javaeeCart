{"version":3,"sources":["webpack:///src/components/form/Editor.vue","webpack:///./src/components/form/Editor.vue?dfa2","webpack:///./src/components/form/Editor.vue"],"names":["Editor","String","Number","content","_this","this","target","focus","FormData","data","then","res","fileName","onFileChange","click","quill","vue_quill_editor","value","newVal","form_Editor","render","_vm","_h","$createElement","_c","_self","ref","attrs","options","editorOption","on","change","onChange","model","callback","$$v","expression","slot","id","staticClass","_v","selected","type","staticStyle","outline","imgClick","viewBox","height","width","x","y","cx","cy","r","points","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"oJA0CAA,QAEA,8BAIAC,wBAGAA,eAEA,oBAGAA,eAEA,4BAEAC,yDAMA,kCAMA,oEAIAC,mCAGA,IAAAC,EAAAC,SACAC,0CAIAC,kGAGA,UAEA,sBAEAC,wCACA,mCACAC,GAAAC,KAAA,SAAAC,2EAGAF,8EAWA,gBACA,mBACAG,kBACA,2DACAC,eACAC,yBATA,oFAcAC,gCAKAC,EAAA,kDAEAC,+EAMAC,MC/HAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAhB,KAAaiB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,eAAmCE,IAAA,eAAAC,OAA0BC,QAAAP,EAAAQ,cAA2BC,IAAKC,OAAAV,EAAAW,UAAsBC,OAAQhB,MAAAI,EAAA,QAAAa,SAAA,SAAAC,GAA6Cd,EAAAlB,QAAAgC,GAAgBC,WAAA,aAAuBZ,EAAA,OAAYG,OAAOU,KAAA,UAAAC,GAAA,WAAgCD,KAAA,YAAgBb,EAAA,UAAee,YAAA,YAAsBf,EAAA,UAAeG,OAAOV,MAAA,WAAiBI,EAAAmB,GAAA,KAAAhB,EAAA,UAA2BG,OAAOc,SAAA,MAAepB,EAAAmB,GAAA,KAAAhB,EAAA,UAA2BG,OAAOV,MAAA,WAAiBI,EAAAmB,GAAA,KAAAhB,EAAA,UAA2BG,OAAOV,MAAA,YAAgBI,EAAAmB,GAAA,KAAAhB,EAAA,QAA2Be,YAAA,eAAyBf,EAAA,UAAee,YAAA,YAAAZ,OAA+BV,MAAA,WAAeI,EAAAmB,GAAA,KAAAhB,EAAA,QAA2Be,YAAA,eAAyBf,EAAA,UAAee,YAAA,YAAAZ,OAA+BV,MAAA,aAAiBI,EAAAmB,GAAA,KAAAhB,EAAA,QAA2Be,YAAA,eAAyBf,EAAA,UAAee,YAAA,UAAAZ,OAA6Be,KAAA,cAAiBrB,EAAAmB,GAAA,KAAAhB,EAAA,QAA2Be,YAAA,eAAyBf,EAAA,UAAee,YAAA,YAAAZ,OAA+Be,KAAA,cAAiBrB,EAAAmB,GAAA,KAAAhB,EAAA,QAA2Be,YAAA,eAAyBf,EAAA,UAAee,YAAA,gBAAAZ,OAAmCe,KAAA,cAAiBrB,EAAAmB,GAAA,KAAAhB,EAAA,QAA2Be,YAAA,eAAyBf,EAAA,UAAee,YAAA,UAAAZ,OAA6Be,KAAA,SAAAzB,MAAA,eAAmCI,EAAAmB,GAAA,KAAAhB,EAAA,QAA2Be,YAAA,eAAyBf,EAAA,UAAee,YAAA,UAAAZ,OAA6Be,KAAA,SAAAzB,MAAA,cAAkCI,EAAAmB,GAAA,KAAAhB,EAAA,QAA2Be,YAAA,eAAyBf,EAAA,UAAee,YAAA,UAAAZ,OAA6Be,KAAA,cAAiBrB,EAAAmB,GAAA,KAAAhB,EAAA,QAA2Be,YAAA,eAAyBf,EAAA,UAAemB,aAAaC,QAAA,QAAiBjB,OAAQe,KAAA,UAAgBZ,IAAKhB,MAAAO,EAAAwB,YAAsBrB,EAAA,OAAYG,OAAOmB,QAAA,eAAuBtB,EAAA,QAAae,YAAA,YAAAZ,OAA+BoB,OAAA,KAAAC,MAAA,KAAAC,EAAA,IAAAC,EAAA,OAA4C7B,EAAAmB,GAAA,KAAAhB,EAAA,UAA2Be,YAAA,UAAAZ,OAA6BwB,GAAA,IAAAC,GAAA,IAAAC,EAAA,OAA2BhC,EAAAmB,GAAA,KAAAhB,EAAA,YAA6Be,YAAA,kBAAAZ,OAAqC2B,OAAA,mDAAoDjC,EAAAmB,GAAA,KAAAhB,EAAA,QAA+Be,YAAA,eAAyBf,EAAA,UAAee,YAAA,WAAAZ,OAA8Be,KAAA,mBAAiB,IAEtkEa,oBCYjBC,EAdAC,EAAA,OAcAC,CACA1D,EACAmB,GATA,EAEA,KAEA,KAEA,MAUAwC,EAAA,QAAAH,EAAA","file":"static/js/15.ef174f9787c72f545db3.js","sourcesContent":["<template>\n  <div>\n    <quilleditor v-model=\"content\"\n                 ref=\"myTextEditor\"\n                 :options=\"editorOption\"\n                 @change=\"onChange\">\n      <div id=\"toolbar\" slot=\"toolbar\">\n        <select class=\"ql-size\">\n          <option value=\"small\"></option>\n          <!-- Note a missing, thus falsy value, is used to reset to default -->\n          <option selected></option>\n          <option value=\"large\"></option>\n          <option value=\"huge\"></option>\n        </select>\n        <!-- Add subscript and superscript buttons -->\n        <span class=\"ql-formats\"><button class=\"ql-script\" value=\"sub\"></button></span>\n        <span class=\"ql-formats\"><button class=\"ql-script\" value=\"super\"></button></button></span>\n        <span class=\"ql-formats\"><button type=\"button\" class=\"ql-bold\"></button></span>\n        <span class=\"ql-formats\"><button type=\"button\" class=\"ql-italic\"></button></span>\n        <span class=\"ql-formats\"><button type=\"button\" class=\"ql-blockquote\"></button></span>\n        <span class=\"ql-formats\"><button type=\"button\" class=\"ql-list\" value=\"ordered\"></button></span>\n        <span class=\"ql-formats\"><button type=\"button\" class=\"ql-list\" value=\"bullet\"></button></span>\n        <span class=\"ql-formats\"><button type=\"button\" class=\"ql-link\"></button></span>\n        <span class=\"ql-formats\">\n        <button type=\"button\" @click=\"imgClick\" style=\"outline:none\">\n        <svg viewBox=\"0 0 18 18\"> <rect class=\"ql-stroke\" height=\"10\" width=\"12\" x=\"3\" y=\"4\"></rect> <circle\n          class=\"ql-fill\" cx=\"6\" cy=\"7\" r=\"1\"></circle> <polyline class=\"ql-even ql-fill\"\n                                                                  points=\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\"></polyline> </svg>\n        </button>\n      </span>\n        <span class=\"ql-formats\"><button type=\"button\" class=\"ql-video\"></button></span>\n      </div>\n    </quilleditor>\n  </div>\n</template>\n<script>\n  import 'quill/dist/quill.core.css'\n  import 'quill/dist/quill.snow.css'\n  import 'quill/dist/quill.bubble.css'\n\n  import {quillEditor} from 'vue-quill-editor'\n\n  export default {\n    name: \"v-editor\",\n    props: {\n      value: {\n        type: String\n      },\n      /*上传图片的地址*/\n      uploadUrl: {\n        type: String,\n        default: '/'\n      },\n      /*上传图片的file控件name*/\n      fileName: {\n        type: String,\n        default: 'file'\n      },\n      maxUploadSize:{\n        type:Number,\n        default: 1024 * 1024 * 500\n      }\n    },\n    data() {\n      return {\n        content: '',\n        editorOption: {\n          modules: {\n            toolbar: '#toolbar'\n          }\n        },\n      }\n    },\n    methods: {\n      onChange() {\n        this.$emit('input', this.content)\n      },\n      /*选择上传图片切换*/\n      onFileChange(e) {\n        var fileInput = e.target;\n        if (fileInput.files.length === 0) {\n          return\n        }\n        this.editor.focus();\n        if (fileInput.files[0].size > this.maxUploadSize) {\n          this.$alert('图片不能大于500KB', '图片尺寸过大', {\n            confirmButtonText: '确定',\n            type: 'warning',\n          })\n        }\n        var data = new FormData;\n        data.append(this.fileName, fileInput.files[0]);\n        this.$http.post(this.uploadUrl, data)\n          .then(res => {\n            if (res.data) {\n              this.editor.insertEmbed(self.editor.getSelection().index, 'image', res.data)\n            }\n          })\n      },\n      /*点击上传图片按钮*/\n      imgClick() {\n        if (!this.uploadUrl) {\n          console.log('no editor uploadUrl');\n          return;\n        }\n        /*内存创建input file*/\n        var input = document.createElement('input');\n        input.type = 'file';\n        input.name = this.fileName;\n        input.accept = 'image/jpeg,image/png,image/jpg,image/gif';\n        input.onchange = this.onFileChange;\n        input.click()\n      }\n    },\n    computed: {\n      editor() {\n        return this.$refs.myTextEditor.quill\n      }\n    },\n    components: {\n      'quilleditor': quillEditor\n    },\n    mounted() {\n      this.content = this.value\n    },\n    watch: {\n      'value'(newVal, oldVal) {\n        if (this.editor) {\n          if (newVal !== this.content) {\n            this.content = newVal\n          }\n        }\n      },\n    }\n  }\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/form/Editor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('quilleditor',{ref:\"myTextEditor\",attrs:{\"options\":_vm.editorOption},on:{\"change\":_vm.onChange},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}},[_c('div',{attrs:{\"slot\":\"toolbar\",\"id\":\"toolbar\"},slot:\"toolbar\"},[_c('select',{staticClass:\"ql-size\"},[_c('option',{attrs:{\"value\":\"small\"}}),_vm._v(\" \"),_c('option',{attrs:{\"selected\":\"\"}}),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"large\"}}),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"huge\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-script\",attrs:{\"value\":\"sub\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-script\",attrs:{\"value\":\"super\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-bold\",attrs:{\"type\":\"button\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-italic\",attrs:{\"type\":\"button\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-blockquote\",attrs:{\"type\":\"button\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-list\",attrs:{\"type\":\"button\",\"value\":\"ordered\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-list\",attrs:{\"type\":\"button\",\"value\":\"bullet\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-link\",attrs:{\"type\":\"button\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticStyle:{\"outline\":\"none\"},attrs:{\"type\":\"button\"},on:{\"click\":_vm.imgClick}},[_c('svg',{attrs:{\"viewBox\":\"0 0 18 18\"}},[_c('rect',{staticClass:\"ql-stroke\",attrs:{\"height\":\"10\",\"width\":\"12\",\"x\":\"3\",\"y\":\"4\"}}),_vm._v(\" \"),_c('circle',{staticClass:\"ql-fill\",attrs:{\"cx\":\"6\",\"cy\":\"7\",\"r\":\"1\"}}),_vm._v(\" \"),_c('polyline',{staticClass:\"ql-even ql-fill\",attrs:{\"points\":\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\"}})])])]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-video\",attrs:{\"type\":\"button\"}})])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7166da0a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/form/Editor.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Editor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Editor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7166da0a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Editor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/form/Editor.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}