{"version":3,"sources":["webpack:///src/components/form/Editor.vue","webpack:///./src/components/form/Editor.vue?3dda","webpack:///./src/components/form/Editor.vue"],"names":["Editor","name","props","value","type","String","uploadUrl","default","fileName","maxUploadSize","Number","data","content","editorOption","modules","toolbar","methods","onChange","this","$emit","onFileChange","e","_this","fileInput","target","files","length","editor","focus","size","$alert","confirmButtonText","FormData","append","$http","post","then","res","insertEmbed","getSelection","index","config","imgurl","imgClick","input","document","createElement","accept","onchange","click","console","log","computed","$refs","myTextEditor","quill","components","quilleditor","vue_quill_editor","mounted","watch","newVal","oldVal","form_Editor","render","_vm","_h","$createElement","_c","_self","ref","attrs","options","on","change","model","callback","$$v","expression","slot","id","staticClass","_v","selected","staticStyle","outline","viewBox","height","width","x","y","cx","cy","r","points","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/18.873d9232c77c7cd613d4.js","sourcesContent":["<template>\n  <div>\n    <quilleditor v-model=\"content\"\n                 ref=\"myTextEditor\"\n                 :options=\"editorOption\"\n                 @change=\"onChange\">\n      <div id=\"toolbar\" slot=\"toolbar\">\n        <select class=\"ql-size\">\n          <option value=\"small\"></option>\n          <!-- Note a missing, thus falsy value, is used to reset to default -->\n          <option selected></option>\n          <option value=\"large\"></option>\n          <option value=\"huge\"></option>\n        </select>\n        <!-- Add subscript and superscript buttons -->\n        <span class=\"ql-formats\"><button class=\"ql-script\" value=\"sub\"></button></span>\n        <span class=\"ql-formats\"><button class=\"ql-script\" value=\"super\"></button></button></span>\n        <span class=\"ql-formats\"><button type=\"button\" class=\"ql-bold\"></button></span>\n        <span class=\"ql-formats\"><button type=\"button\" class=\"ql-italic\"></button></span>\n        <span class=\"ql-formats\"><button type=\"button\" class=\"ql-blockquote\"></button></span>\n        <span class=\"ql-formats\"><button type=\"button\" class=\"ql-list\" value=\"ordered\"></button></span>\n        <span class=\"ql-formats\"><button type=\"button\" class=\"ql-list\" value=\"bullet\"></button></span>\n        <span class=\"ql-formats\"><button type=\"button\" class=\"ql-link\"></button></span>\n        <span class=\"ql-formats\">\n        <button type=\"button\" @click=\"imgClick\" style=\"outline:none\">\n        <svg viewBox=\"0 0 18 18\"> <rect class=\"ql-stroke\" height=\"10\" width=\"12\" x=\"3\" y=\"4\"></rect> <circle\n          class=\"ql-fill\" cx=\"6\" cy=\"7\" r=\"1\"></circle> <polyline class=\"ql-even ql-fill\"\n                                                                  points=\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\"></polyline> </svg>\n        </button>\n      </span>\n        <span class=\"ql-formats\"><button type=\"button\" class=\"ql-video\"></button></span>\n      </div>\n    </quilleditor>\n  </div>\n</template>\n<script>\n  import 'quill/dist/quill.core.css'\n  import 'quill/dist/quill.snow.css'\n  import 'quill/dist/quill.bubble.css'\n  import config from '../../config'\n\n  import {quillEditor} from 'vue-quill-editor'\n\n  export default {\n    name: \"v-editor\",\n    props: {\n      value: {\n        type: String\n      },\n      /*上传图片的地址*/\n      uploadUrl: {\n        type: String,\n        default: '/'\n      },\n      /*上传图片的file控件name*/\n      fileName: {\n        type: String,\n        default: 'file'\n      },\n      maxUploadSize:{\n        type:Number,\n        default: 1024 * 1024 * 500\n      }\n    },\n    data() {\n      return {\n        content: '',\n        editorOption: {\n          modules: {\n            toolbar: '#toolbar'\n          }\n        },\n      }\n    },\n    methods: {\n      onChange() {\n        this.$emit('input', this.content)\n      },\n      /*选择上传图片切换*/\n      onFileChange(e) {\n        var fileInput = e.target;\n        if (fileInput.files.length === 0) {\n          return\n        }\n        this.editor.focus();\n        if (fileInput.files[0].size > this.maxUploadSize) {\n          this.$alert('图片不能大于500KB', '图片尺寸过大', {\n            confirmButtonText: '确定',\n            type: 'warning',\n          })\n        }\n        var data = new FormData;\n        data.append(this.fileName, fileInput.files[0]);\n        this.$http.post(this.uploadUrl, data)\n          .then(res => {\n            if (res.data) {\n              this.editor.insertEmbed(this.editor.getSelection().index, 'image', config.imgurl+res.data);\n              this.$emit('input', this.content)\n            }\n          })\n      },\n      /*点击上传图片按钮*/\n      imgClick() {\n        if (!this.uploadUrl) {\n          console.log('no editor uploadUrl');\n          return;\n        }\n        /*内存创建input file*/\n        var input = document.createElement('input');\n        input.type = 'file';\n        input.name = this.fileName;\n        input.accept = 'image/jpeg,image/png,image/jpg,image/gif';\n        input.onchange = this.onFileChange;\n        input.click()\n      }\n    },\n    computed: {\n      editor() {\n        return this.$refs.myTextEditor.quill\n      }\n    },\n    components: {\n      'quilleditor': quillEditor\n    },\n    mounted() {\n      this.content = this.value\n    },\n    watch: {\n      'value'(newVal, oldVal) {\n        if (this.editor) {\n          if (newVal !== this.content) {\n            this.content = newVal\n          }\n        }\n      },\n    }\n  }\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/form/Editor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('quilleditor',{ref:\"myTextEditor\",attrs:{\"options\":_vm.editorOption},on:{\"change\":_vm.onChange},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}},[_c('div',{attrs:{\"slot\":\"toolbar\",\"id\":\"toolbar\"},slot:\"toolbar\"},[_c('select',{staticClass:\"ql-size\"},[_c('option',{attrs:{\"value\":\"small\"}}),_vm._v(\" \"),_c('option',{attrs:{\"selected\":\"\"}}),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"large\"}}),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"huge\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-script\",attrs:{\"value\":\"sub\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-script\",attrs:{\"value\":\"super\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-bold\",attrs:{\"type\":\"button\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-italic\",attrs:{\"type\":\"button\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-blockquote\",attrs:{\"type\":\"button\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-list\",attrs:{\"type\":\"button\",\"value\":\"ordered\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-list\",attrs:{\"type\":\"button\",\"value\":\"bullet\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-link\",attrs:{\"type\":\"button\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticStyle:{\"outline\":\"none\"},attrs:{\"type\":\"button\"},on:{\"click\":_vm.imgClick}},[_c('svg',{attrs:{\"viewBox\":\"0 0 18 18\"}},[_c('rect',{staticClass:\"ql-stroke\",attrs:{\"height\":\"10\",\"width\":\"12\",\"x\":\"3\",\"y\":\"4\"}}),_vm._v(\" \"),_c('circle',{staticClass:\"ql-fill\",attrs:{\"cx\":\"6\",\"cy\":\"7\",\"r\":\"1\"}}),_vm._v(\" \"),_c('polyline',{staticClass:\"ql-even ql-fill\",attrs:{\"points\":\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\"}})])])]),_vm._v(\" \"),_c('span',{staticClass:\"ql-formats\"},[_c('button',{staticClass:\"ql-video\",attrs:{\"type\":\"button\"}})])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6024b12c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/form/Editor.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Editor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Editor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6024b12c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Editor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/form/Editor.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}